<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.text.Text?>

<AnchorPane prefHeight="691.0" prefWidth="1080" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.covoiturage.messagesController">

    <children>
        <!-- ===================== MENU ===================== -->
        <AnchorPane id="menu" layoutX="0" layoutY="0" prefHeight="693.0" prefWidth="233.0" style="-fx-background-color: #ffffff; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10,0,0,0);">
            <children>
                <ImageView fitHeight="80.0" fitWidth="80.0" layoutX="71.0" layoutY="9.0" preserveRatio="true">
                    <image>
                        <Image url="@../../../logo.png" />
                    </image>
                </ImageView>

                <Text layoutX="60" layoutY="110" style="-fx-font-size: 18px; -fx-font-weight: bold;" text="Covoiturage" />

                <!-- Dashboard -->
                <AnchorPane layoutX="9.0" layoutY="261.0" prefHeight="53.0" prefWidth="210" AnchorPane.topAnchor="261.0">
                    <children>
                        <Button layoutX="39" layoutY="2" prefHeight="45" prefWidth="152" style="-fx-background-color: #dff0ff; -fx-background-radius: 8; -fx-text-fill: #2d3436; -fx-alignment: CENTER_LEFT; -fx-padding: 10 15; -fx-font-size: 16px; -fx-font-family: 'Segoe UI';" text="Messages" />
                        <ImageView fitHeight="20" fitWidth="20" layoutX="14.0" layoutY="17.0" preserveRatio="true">
                            <image>
                                <Image url="@../../../messages.PNG" />
                            </image>
                        </ImageView>
                    </children>
                </AnchorPane>

                <!-- Profil -->
                <AnchorPane layoutX="10.0" layoutY="144.0" prefHeight="40" prefWidth="210">
                    <children>
                        <Button fx:id="dashboardButton" layoutX="35" layoutY="5" onAction="#handleDashboardButton" prefWidth="165" style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: #2d3436; -fx-alignment: CENTER_LEFT; -fx-padding: 10 15; -fx-font-size: 16px; -fx-font-family: 'Segoe UI';" text="Tableau de bord" />
                        <ImageView fitHeight="20" fitWidth="20" layoutX="13.0" layoutY="15.0" preserveRatio="true">
                            <image><Image url="@../../../dashboard.PNG" /></image>
                        </ImageView>
                    </children>
                </AnchorPane>

                <!-- Messages -->
                <AnchorPane layoutX="11.0" layoutY="202.0" prefHeight="40" prefWidth="210">
                    <children>
                        <Button fx:id="profileButton" layoutX="35.0" layoutY="3.0" onAction="#handleProfileButton" prefWidth="165" style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: #2d3436; -fx-alignment: CENTER_LEFT; -fx-padding: 10 15; -fx-font-size: 16px; -fx-font-family: 'Segoe UI';" text="Profile" />
                        <ImageView fitHeight="20" fitWidth="20" layoutX="12.0" layoutY="15.0" preserveRatio="true">
                            <image>
                                <Image url="@../../../profileDash.PNG" />
                            </image>
                        </ImageView>
                    </children>
                </AnchorPane>

                <!-- Mes trajets -->
                <AnchorPane layoutX="10" layoutY="326" prefHeight="40" prefWidth="210">
                    <children>
                        <ImageView fitHeight="20" fitWidth="20" layoutX="12" layoutY="12" preserveRatio="true">
                            <image><Image url="@../../../car.PNG" /></image>
                        </ImageView>
                        <Button fx:id="mesTrajets" layoutX="35" layoutY="5" onAction="#handleTrajetsButton" prefWidth="165" style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: #2d3436; -fx-alignment: CENTER_LEFT; -fx-padding: 10 15; -fx-font-size: 16px; -fx-font-family: 'Segoe UI';" text="Mes trajets" />
                    </children>
                </AnchorPane>

                <!-- Paramètres -->
                <AnchorPane layoutX="10" layoutY="391" prefHeight="40" prefWidth="210">
                    <children>
                        <ImageView fitHeight="20" fitWidth="20" layoutX="12" layoutY="12" preserveRatio="true">
                            <image><Image url="@../../../settings.PNG" /></image>
                        </ImageView>
                        <Button fx:id="settingButton" layoutX="35" layoutY="5" onAction="#handleSettingButton" prefWidth="165" style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: #2d3436; -fx-alignment: CENTER_LEFT; -fx-padding: 10 15; -fx-font-size: 16px; -fx-font-family: 'Segoe UI';" text="Paramètres" />
                    </children>
                </AnchorPane>
            </children>
        </AnchorPane>

        <!-- ===================== CONTENU PRINCIPAL ===================== -->
        <AnchorPane layoutX="233.0" layoutY="0.0" prefHeight="691.0" prefWidth="847.0" style="-fx-background-color: #f5f7fa;">

            <!-- Titre Messages -->
            <Text layoutX="40.0" layoutY="60.0" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill:#1e293b;" text="Messages" />

            <!-- Barre de recherche -->
            <AnchorPane layoutX="40.0" layoutY="90.0" prefHeight="50.0" prefWidth="765.0" style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.10), 8, 0, 0, 2);">
                <children>
                    <Text layoutX="36.0" layoutY="31.0" style="-fx-font-size: 16px; -fx-fill: #94a3b8;" text="Q Search messages..." />
                </children>
            </AnchorPane>

            <!-- ===================== LISTE DES MESSAGES ===================== -->
            <AnchorPane layoutX="40.0" layoutY="160.0" prefHeight="500.0" prefWidth="765.0">

                <!-- *** TEMPLATE styling appliqué à chaque message *** -->

                <!-- MESSAGE CARD -->
                <AnchorPane layoutY="0" prefHeight="85" prefWidth="765" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding:15;                            -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
                    <children>

                        <!-- Avatar -->
                        <ImageView fitHeight="48" fitWidth="48" layoutX="15" layoutY="18">
                            <image><Image url="@../../../profile.png" /></image>
                        </ImageView>

                        <!-- Nom -->
                        <Text layoutX="80" layoutY="35" style="-fx-font-size: 17px; -fx-font-weight: bold; -fx-fill:#0f172a;" text="Ahmed Hassan" />

                        <!-- Last message -->
                        <Text layoutX="80" layoutY="58" style="-fx-font-size: 15px; -fx-fill:#64748b;" text="Hey, are you available for the ride today?" />

                        <!-- Time -->
                        <Text layoutX="680" layoutY="35" style="-fx-font-size: 14px; -fx-fill:#94a3b8;" text="2:30 PM" />

                        <!-- Badge -->
                        <AnchorPane layoutX="710" layoutY="47" prefHeight="18" prefWidth="18" style="-fx-background-color:#2563eb; -fx-background-radius:50;">
                            <children>
                                <Text layoutX="6" layoutY="13" style="-fx-font-size: 12px; -fx-fill: white;" text="2" />
                            </children>
                        </AnchorPane>

                    </children>
                </AnchorPane>

                <!-- MESSAGE 2 -->
                <AnchorPane layoutY="110.0" prefHeight="85" prefWidth="765" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding:15;                            -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
                    <children>

                        <ImageView fitHeight="48" fitWidth="48" layoutX="15" layoutY="18">
                            <image><Image url="@../../../profile.png" /></image>
                        </ImageView>

                        <Text layoutX="80" layoutY="35" style="-fx-font-size: 17px; -fx-font-weight: bold; -fx-fill:#0f172a;" text="Sara Mohamed" />

                        <Text layoutX="80" layoutY="58" style="-fx-font-size: 15px; -fx-fill:#64748b;" text="Thank you for the safe trip!" />

                        <Text layoutX="680" layoutY="35" style="-fx-font-size: 14px; -fx-fill:#94a3b8;" text="1:15 PM" />
                    </children>
                </AnchorPane>

                <!-- MESSAGE 3 -->
                <AnchorPane layoutY="223.0" prefHeight="85" prefWidth="765" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding:15;                            -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
                    <children>

                        <ImageView fitHeight="48" fitWidth="48" layoutX="15" layoutY="18">
                            <image><Image url="@../../../profile.png" /></image>
                        </ImageView>

                        <Text layoutX="80" layoutY="35" style="-fx-font-size: 17px; -fx-font-weight: bold; -fx-fill:#0f172a;" text="Omar Ali" />

                        <Text layoutX="80" layoutY="58" style="-fx-font-size: 15px; -fx-fill:#64748b;" text="5 min w nkoun 3andek" />

                        <Text layoutX="680" layoutY="35" style="-fx-font-size: 14px; -fx-fill:#94a3b8;" text="12:45 PM" />

                        <AnchorPane layoutX="710" layoutY="47" prefHeight="18" prefWidth="18" style="-fx-background-color:#2563eb; -fx-background-radius:50;">
                            <children>
                                <Text layoutX="6" layoutY="13" style="-fx-font-size: 12px; -fx-fill: white;" text="1" />
                            </children>
                        </AnchorPane>

                    </children>
                </AnchorPane>

            </AnchorPane>

        </AnchorPane>


    </children>
</AnchorPane>
